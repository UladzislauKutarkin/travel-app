(this["webpackJsonptravel-app"]=this["webpackJsonptravel-app"]||[]).push([[0],{122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},396:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(112),r=a.n(s),i=a(14),o=(a(122),a(123),a(8)),l=a(11),d=(a(124),a(2)),u=Object(o.f)((function(e){var t=e.name,a=e.capital,c=e.match,n=e.history,s=e.id,r=e.imageUrl;return Object(d.jsxs)("div",{className:"card",onClick:function(){n.push("".concat(c.url).concat(s))},children:[Object(d.jsx)("div",{className:"background-image",style:{backgroundImage:"url(".concat(r,")")}}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h2",{className:"title",children:t}),Object(d.jsx)("span",{className:"subtitle",children:a})]})]})})),j=(a(133),a(117)),m=a.p+"static/media/Mountain.cb8cc8a8.mp4",h=(a(134),a.p+"static/media/logo.png.c886e81e.png"),p=(a(135),function(e){var t=e.changeHandler,a=e.input,c=e.onClickSearchHandler,n=e.handleKeyPress;return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{onClick:c,className:"header-search-title",htmlFor:"search",children:e.props[0].search}),Object(d.jsx)("input",{autoFocus:!0,autoComplete:"off",type:"search",id:"search",placeholder:e.props[0].searchPlaceholder,value:a,onChange:t,onKeyDown:n})]})});function b(e){return Object(d.jsx)(i.a,{children:Object(d.jsxs)("header",{className:"header-wrapper",children:[Object(d.jsx)("video",{className:e.showSearch?"header-video":"cardPageVideo",autoPlay:!0,loop:!0,muted:!0,preload:"true",children:Object(d.jsx)("source",{src:m})}),Object(d.jsxs)("div",{className:e.showSearch?"header-main-section-wrapper":"header-main-section-wrapper-card",children:[function(){if(e.showSearch)return Object(d.jsx)(p,Object(j.a)({placeholder:"Search country"},e))}(),Object(d.jsx)(i.b,{to:"/",target:"_top",children:Object(d.jsx)("img",{className:"header-logo",src:h,alt:"logo"})}),Object(d.jsxs)("div",{className:"select-field",children:[Object(d.jsx)("span",{className:"language_name",children:e.showSearch?e.props[0].language:e.langLine}),Object(d.jsxs)("select",{value:e.showSearch?e.lang:e.lng,onChange:function(t){return e.showSearch?e.setLng(t):e.setFr(t)},className:"option-value",children:[Object(d.jsx)("option",{className:"option-value",value:"en",children:"En"}),Object(d.jsx)("option",{className:"option-value",value:"ru",children:"Ru"}),Object(d.jsx)("option",{className:"option-value",value:"fr",children:"Fr"})]})]})]}),Object(d.jsx)("div",{className:"header-travel-app-description",children:e.showSearch?Object(d.jsx)("p",{className:"header-param",children:e.props[0].headerDescription}):null})]})})}var g=a(29),O=a.n(g),x=a(114),f=a.n(x),v=a(47),y=(a(382),a.p+"static/media/footer-cover.a43151dc.png"),w=a.p+"static/media/github.77a97279.png",N=a.p+"static/media/rs_school.ad178c0d.svg";function S(){return Object(d.jsx)(i.a,{children:Object(d.jsx)("footer",{className:"wrapper-footer",style:{backgroundImage:"url(".concat(y,")")},children:Object(d.jsxs)("div",{className:"column-wrapper",children:[Object(d.jsxs)("div",{className:"footer-git",children:[Object(d.jsxs)(i.b,{style:{textDecoration:"none",display:"flex",alignContent:"center",alignItems:"center",marginRight:"20px"},to:{pathname:"https://github.com/UladzislauKutarkin"},target:"_blank",children:[Object(d.jsx)("img",{className:"img-Git",alt:"GitHubLogo",src:w}),Object(d.jsx)("span",{className:"git_name",children:"UladzislauKutarkin"})]}),Object(d.jsxs)(i.b,{style:{textDecoration:"none",display:"flex",alignContent:"center",alignItems:"center",marginRight:"20px"},to:{pathname:"https://github.com/AlekseyGrimm"},target:"_blank",children:[Object(d.jsx)("img",{className:"img-Git",alt:"GitHubLogo",src:w}),Object(d.jsx)("span",{className:"git_name",children:"AlekseyGrimm"})]}),Object(d.jsxs)(i.b,{style:{textDecoration:"none",display:"flex",alignContent:"center",alignItems:"center",marginRight:"20px"},to:{pathname:"https://github.com/yauheni-beiduk"},target:"_blank",children:[Object(d.jsx)("img",{className:"img-Git",alt:"GitHubLogo",src:w}),Object(d.jsx)("span",{className:"git_name",children:"yauheni-beiduk"})]}),Object(d.jsxs)(i.b,{style:{textDecoration:"none",display:"flex",alignContent:"center",alignItems:"center"},to:{pathname:"https://github.com/ya6"},target:"_blank",children:[Object(d.jsx)("img",{className:"img-Git",alt:"GitHubLogo",src:w}),Object(d.jsx)("span",{className:"git_name",children:"ya6"})]})]}),Object(d.jsxs)("div",{className:"second-row",children:[Object(d.jsx)("span",{className:"footer-year",children:Object(d.jsx)("strong",{children:"\xa9 2021"})}),Object(d.jsx)(i.b,{to:{pathname:"https://rs.school/js/"},target:"_blank",children:Object(d.jsx)("img",{className:"img-School",alt:"RsSchoolLogo",src:N})})]})]})})})}var k=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],j=Object(c.useState)(""),m=Object(l.a)(j,2),h=m[0],p=m[1],g=Object(c.useState)(!0),x=Object(l.a)(g,2),y=x[0],w=(x[1],Object(c.useState)("")),N=Object(l.a)(w,2),k=N[0],_=N[1],C=Object(c.useState)(!1),I=Object(l.a)(C,2),L=I[0],D=I[1];Object(c.useEffect)((function(){U(),E(),""===h&&o("")}),[L,k,h]);var U=function(){O.a.get("https://travel-app-server-epam.herokuapp.com/countries?lang=".concat(k)).then((function(e){var t=e.data;return n(t)})).then((function(){return D(!0)}))},E=function(){""===localStorage.getItem("languag")?_("en"):_(localStorage.getItem("languag"))},T=a.filter((function(e){return String(e.name).toLowerCase().includes(i.toLowerCase())||String(e.capital).toLowerCase().includes(i.toLowerCase())}));return 0===a.length?null:Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)(v.CircleArrow,{AnimationDuration:1e3,style:{backgroundColor:"##c0c0c000",border:"0px solid black",right:"16px",zIndex:"1",boxShadow:"#ffffff6b 0px 1px 10px",outline:"none"}}),Object(d.jsx)(b,{lang:k,props:a,setLng:function(e){localStorage.setItem("languag",e.target.value),_(localStorage.getItem("languag"))},showSearch:y,search:i,input:h,changeHandler:function(e){p(e.target.value)},onClickSearchHandler:function(e){o(h)},handleKeyPress:function(e){"Enter"===e.key&&o(h)}}),Object(d.jsx)(f.a,{className:"particles-js",params:{particles:{number:{value:50,density:{enable:!0,value_area:552.4033491425909}},color:{value:"#ffffff"},shape:{type:"circle",stroke:{width:0,color:"#201c1c"},polygon:{nb_sides:6}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:4.004324670644295,random:!0,anim:{enable:!1,speed:10,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"repulse"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),Object(d.jsx)("div",{className:"cards-container",children:function(e){return e.length&&T.map((function(e){var t=e.id,a=e.wind,c=e.capital,n=e.name,s=e.language,r=e.imageUrl;return Object(d.jsx)(u,{lang:s,id:t,name:n,capital:c,imageUrl:r,wind:a},t)}))}(a)}),Object(d.jsx)(S,{})]})},_=a(16),C=a.n(_),I=a(34),L=(a(383),a(384),function(e){var t=Object(c.useState)([{name:"usd",flag:"us",cur:0,sign:"USD"},{name:"euro",flag:"eu",cur:0,sign:"EURO"},{name:"rus",flag:"ru",cur:0,sign:"RUB"},{name:"current",flag:"by",cur:0,sign:"current"}]),a=Object(l.a)(t,2),n=a[0];a[1];Object(c.useEffect)((function(){e.ISOCode,e.currency}),[e]);var s=e.currenc;return Object(d.jsx)("div",{className:"currency",children:Object(d.jsxs)("div",{className:"currency-container",children:[Object(d.jsx)("div",{className:"title",children:s}),n.map((function(t){return"current"===t.name&&"USD"===t.sign&&"USD"===e.currency?Object(d.jsx)("div",{}):Object(d.jsxs)("div",{className:"currency-row",children:[Object(d.jsx)("div",{className:"flag",style:{backgroundImage:"url(https://www.countryflags.io/".concat(t.flag,"/shiny/64.png)")}}),Object(d.jsxs)("div",{className:"currency-item-box",children:[" ",t.sign," "]}),Object(d.jsx)("div",{className:"currency-item-box",children:t.cur})]},t.name)}))]})})}),D=(a(385),function(e){var t=Object(c.useState)({day:0,date:0,month:0,year:0}),a=Object(l.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)({hour:0,min:0,sec:0}),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(c.useState)({timezone:0}),m=Object(l.a)(j,2),h=m[0],p=m[1],b={US:-5,UA:2,AE:4,FR:1,CA:-5,GB:0,AU:11,DE:1,BY:3},g=function(e){return(parseInt(e,10)<10?"0":"")+e},O=function(e){var t=(new Date).getTime(),a=Number(t+60*e*60*1e3),c=new Date(a),n={hour:c.getUTCHours(),min:c.getMinutes(),sec:c.getSeconds()};u(n)};Object(c.useEffect)((function(){p(b[e.ISOCode]),function(){var e=new Date,t={day:e.getDay(),date:e.getDate(),month:e.getMonth(),year:e.getFullYear()};s(t)}(),setTimeout((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return O(e)}),1e3)}),[o]);var x=o.hour,f=o.min,v=o.sec,y=n.day,w=n.date,N=n.month,S=n.year,k=e.days,_=e.months,C=e.localTime;return Object(d.jsx)("div",{className:"date-time ",children:Object(d.jsxs)("div",{className:"date-time-container",children:[Object(d.jsx)("div",{className:"title",children:C}),Object(d.jsxs)("div",{className:"date-time-inner",children:[Object(d.jsx)("div",{className:"date",children:"".concat(k[y]," ").concat(w," ").concat(_[N]," ").concat(S)}),Object(d.jsx)("div",{className:"time",children:"".concat(g(x||0),":").concat(g(f||0),":").concat(g(v||0))})]})]})})}),U=(a(386),"https://api.openweathermap.org/data/2.5/weather"),E="cc5e998123b73611c364f52344b6c422",T=function(){var e=Object(I.a)(C.a.mark((function e(t){var a,c,n,s=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:U,c=s.length>2&&void 0!==s[2]?s[2]:E,e.next=4,O.a.get(a,{params:{appid:c,q:t}});case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Object(c.useState)({city:"Minsk",temp:0,feels:0,humidity:0,wind:0,weather_icon:""}),a=Object(l.a)(t,2),n=a[0],s=a[1];Object(c.useEffect)((function(){!function(t){T(t).then((function(t){var a={city:e.capital,temp:(t.data.main.temp-273.15).toFixed(0),feels:(t.data.main.feels_like-273.15).toFixed(0),humidity:t.data.main.humidity,wind:t.data.wind.speed,weather_icon:"https://openweathermap.org/img/wn/".concat(t.data.weather[0].icon,".png")};s(a)}))}(e.capital||"Minsk")}),[e.capital]);var r=n.city,i=n.temp,o=n.feels,u=n.humidity,j=n.wind,m=n.weather_icon;return Object(d.jsx)("div",{className:"weather",children:Object(d.jsxs)("div",{className:"weather_container",children:[Object(d.jsx)("div",{className:"city",children:r}),Object(d.jsxs)("div",{className:"weather_params_all",children:[Object(d.jsx)("div",{className:"weather_params_left",children:Object(d.jsxs)("div",{className:"weather_temp ",children:[i,"\xb0"]})}),Object(d.jsxs)("div",{className:"weather_params_right",children:[Object(d.jsxs)("div",{children:[" ",Object(d.jsx)("img",{className:"weather_icon",src:m,alt:"icon"})]}),Object(d.jsxs)("div",{children:[e.feelsLike,": ",o,"\xb0"]}),Object(d.jsxs)("div",{children:[e.winder,": ",j," m/s"]}),Object(d.jsxs)("div",{children:[e.humidity,": ",u,"%"]})]})]})]})})},G=(a(387),function(e){var t=e.currenc,a=e.localTime,c=e.humidity,n=e.feelsLike,s=e.days,r=e.months,i=e.wind,o=e.capital,l=e.ISOCode,u=e.currency,j=e.name;return Object(d.jsxs)("div",{className:"widget_box",children:[Object(d.jsx)(F,{humidity:c,feelsLike:n,winder:i,capital:o}),Object(d.jsx)(D,{ISOCode:l,days:s,months:r,localTime:a}),Object(d.jsx)(L,{ISOCode:l,currency:u,name:j,currenc:t})]})}),A=(a(388),a(115)),z=a.n(A),M=(a(396),a(35)),H=a.n(M),R=function(e,t){H.a.accessToken="pk.eyJ1IjoieWE2IiwiYSI6ImNrbTh4eW1xcDFjZDEydm10NDFsMXlrOTQifQ.Op0dWC0nWMonljXC5GamkQ";var a=new H.a.Map({container:"country_map",style:"mapbox://styles/mapbox/streets-v11",width:"100vw",height:"100vh",zoom:3,center:e,pitch:45});(new H.a.Marker).setLngLat(e).addTo(a),a.addControl(new H.a.FullscreenControl),a.on("load",(function(){a.addSource("maine",{type:"geojson",data:{type:"Feature",geometry:{type:"Polygon",coordinates:t}}}),a.addLayer({id:"maine",type:"fill",source:"maine",layout:{},paint:{"fill-color":"yellow","fill-opacity":.4}})}))},P=function(e){var t=Object(c.useState)([27.557830810546875,53.902720016840476]),a=Object(l.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){s(e.coordinates),e.coordin.length>0&&n.length>0&&R(n,function(e){for(var t=e.split(","),a=[],c=0;c<t.length;c+=2){var n=[].concat(t[c],t[c+1]);a.push(n)}return[a]}(e.coordin))}),[n,e]),Object(d.jsx)("div",{id:"country_map",className:"map",children:"map"})},K=a(116),B=a.n(K);function W(){return Object(c.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),null}var J=Object(o.f)((function(e){var t=e.match,a=Object(c.useState)({headerDescription:"",localTime:"",coordin:[],humidity:"",feelsLike:"",days:[],months:[],wind:"",slid:[],slider:[],capital:"",ISOCode:"",currency:"",name:"",currenc:"",language:"",description:"",imageUrl:"",imgCountry:"",videoUrl:"",capitalLocation:{coordinates:[]}}),n=Object(l.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(localStorage.getItem("languag")),o=Object(l.a)(i,2),u=o[0],j=o[1],m=function(){var e=Object(I.a)(C.a.mark((function e(){var a,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("https://travel-app-server-epam.herokuapp.com/countries/".concat(null===t||void 0===t||null===(a=t.params)||void 0===a?void 0:a.id,"?lang=").concat(u));case 2:c=e.sent,r(c.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){m(),""===localStorage.getItem("language")&&localStorage.setItem("language","en")}),[u]);var h=s.localTime,p=s.currenc,g=s.humidity,x=s.feelsLike,f=s.days,y=s.months,w=s.wind,N=s.capital,k=s.coordin,_=s.ISOCode,L=s.currency,D=s.name,U=s.capitalLocation,E=s.headerDescription,T=s.language;return Object(d.jsxs)("div",{className:"country-card",children:[Object(d.jsx)(W,{}),Object(d.jsx)(v.CircleArrow,{AnimationDuration:1500,style:{backgroundColor:"#c0c0c045",border:"1px solid black",zIndex:"5",outline:"none"}}),Object(d.jsx)(b,{headerDescription:E,setFr:function(e){localStorage.setItem("languag",e.target.value),j(localStorage.getItem("languag"))},langLine:T,lng:u}),Object(d.jsxs)("div",{className:"country-wrapper--description",children:[Object(d.jsxs)("div",{className:"country-wrapper-desriptions",children:[Object(d.jsx)("div",{className:"country-photo--wrapper",children:Object(d.jsx)("img",{className:"country-photo",src:s.imgCountry,alt:"Country"})}),Object(d.jsx)("div",{className:"country-name",children:s.name}),Object(d.jsx)("div",{className:"country-capital",children:s.capital}),Object(d.jsx)("div",{className:"country-description",children:s.description})]}),Object(d.jsx)(G,{currenc:p,localTime:h,humidity:g,feelsLike:x,days:f,months:y,wind:w,capital:N,ISOCode:_,currency:L,name:D})]}),Object(d.jsx)(z.a,{items:s.slid}),Object(d.jsxs)("div",{className:"country-wrapper--video-and-map",children:[Object(d.jsx)("div",{className:"country-wrapper--video-map",children:Object(d.jsx)("div",{className:"country-video",children:Object(d.jsx)(B.a,{className:"react-player",controls:!0,url:s["videoUrl "]})})}),Object(d.jsx)("div",{className:"map-div",children:Object(d.jsx)(P,{coordin:k,coordinates:U.coordinates})})]}),Object(d.jsx)(S,{})]})})),Q=(a(422),function(){return Object(d.jsx)("div",{className:"country_page",children:Object(d.jsx)(J,{})})});var Y=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(c.Suspense,{fallback:Object(d.jsx)("p",{children:"Loading"}),children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:k}),Object(d.jsx)(o.a,{exact:!0,path:"/:id",component:Q})]})})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(Y,{})})}),document.getElementById("root"))}},[[423,1,2]]]);
//# sourceMappingURL=main.53a4c9aa.chunk.js.map